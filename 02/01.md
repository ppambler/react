### ✍️ Tangxt ⏳ 2021-02-17 🏷️ 页面

# 01-环境准备&启动前端

## ★环境准备

要安装的工具：

* VS Code：写代码
* Node：最新版
* Postman：调试请求接口，看看能否正常的拿到后台响应回来的数据
* Git：版本管理，回顾自己做了什么

要安装的 VS Code 插件：

* Auto Rename Tag：改开标签时，自动同步修改闭标签
* Bracket Pair Colorizer：颜色区分那些代码嵌套很深的`(){}...`
* ES7 React/Redux/React-Native/JS snippets：提供了很多快捷的语法
  + rafce -> 这个快捷方式经常用到 -> 创建一个函数组件然后导出去
* JavaScript (ES6) code snippets：快捷键输入代码
* Prettier - Code formatter：自动格式化，防止代码混乱

接下来，要了解的是这个应用的前端的初始化内容

## ★创建 react 脚手架

安装：

``` bash
mkdir ms-react-mobile-shop
cd ms-react-mobile-shop
mkdir frontend
cd frontend
yarn create react-app .
```

💡：关闭 `eslint` 的提示？

![eslint 提示](assets/img/2021-02-17-23-02-55.png)

💡：React 应用是单页面应用？

只有一个主页面的应用，只需要在主页面里边一次性加载 JS 和 CSS 等这些资源就行了！

![主页面](assets/img/2021-02-17-23-15-13.png)

➹：[前端：你要懂的单页面应用和多页面应用](https://juejin.cn/post/6844903512107663368)

💡：根标签和根组件？

![根标签](assets/img/2021-02-17-23-21-48.png)

💡： `index.js` 是入口文件？

`App` 组件就是从这里开始被插入到主页面的！

![App 组件](assets/img/2021-02-17-23-30-11.png)

💡：为什么叫 `className` ？

因为在 JS 里边， `class` 是关键字！

同样，我们可以 `<label for="test">Test</label>` ，但在 JSX 里边只能用 `htmlFor`

➹：[reactjs - React ignores 'for' attribute of the label element - Stack Overflow](https://stackoverflow.com/questions/22752116/react-ignores-for-attribute-of-the-label-element)

💡：第三方库可以自定义设置每个页面的 `title` 内容？

![自定义 title](assets/img/2021-02-17-23-36-39.png)

等项目完成后，才去设置！目前直接文本展示就好了！

💡：不想添加额外的节点？

我们知道写多个元素的时候，需要套一个元素（如 `div` ）包裹住它们，但是我们就是不想这个 `div` 元素渲染到页面里边……

语法：

``` jsx
<React.Fragment></React.Fragment>
```

用短语法来声明 Fragments：

``` jsx
<></>
```

这种语法它不支持 `key` 或属性！

➹：[Fragments – React](https://zh-hans.reactjs.org/docs/fragments.html)

💡：敏感数据不上传？

![不上传](assets/img/2021-02-18-00-03-52.png)

忽略 `.env` 文件 -> 这些敏感数据可不能供人家去参考和下载！

一些例子：

``` 
# 本行为注释
.idea/          # 忽略仓库中所有。idea 目录
/.idea/         # 忽略仓库中根目录下的。idea 目录
/.settings      # 忽略仓库中根目录下的 .settings 文件或目录
~'$'*.docx      # office 打开时生成的临时文件

!etc/eclipse/.checkstyle    # 不忽略 .checkstyle 文件或目录
```

其它例子：

``` 
*.a                    # 所有以 '.a' 为后缀的文件都屏蔽掉
# Office 缓存文件
~'$'*.docx
~'$'*.ppt
~'$'*.pptx 
~'$'*.xls

tags                   # 仓库中所有名为 tags 的文件都屏蔽
core.*                 # 仓库中所有以 'core.' 开头的文件都屏蔽

tools/                # 屏蔽目录 tools
log/*                  # 屏蔽目录 log 下的所有文件，但不屏蔽 log 目录本身

/log.log               # 只屏蔽仓库根目录下的 log.log 文件，其他目录中的不屏蔽
readme.md       # 屏蔽仓库中所有名为 readme.md 的文件
!/readme.md     # 在上一条屏蔽规则的条件下，不屏蔽仓库根目录下的 readme.md 文件
```

> 最后两条的顺序很重要，必须要先屏蔽所有的，然后才建立特殊不屏蔽的规则！

➹：[gitignore 规则 - SegmentFault 思否](https://segmentfault.com/a/1190000017138049)

---

Next：创建页面的主体结构，如 Header、Footer……

## ★创建 header 和 footer

💡：如何把这个图标换了？

![图标](assets/img/2021-02-18-10-08-14.png)

做法：

![logo 替换](assets/img/2021-02-18-10-27-16.png)

💡：文件目录？

* components：放的是通用组件，如 Header、Footer、评分组件等
* screens：放的是单独某个页面组件，如登录页面、管理页面……

💡：创建一个组件？

在 React 里边，组件的创建，也就是文件的创建，得是首字母大写的，如 `Header.js` -> 这是一个约定俗成的规定！

使用快捷的方式创建组件的结构：

* rcc -> 创建一个可以导出的类组件 
* rafc -> 创建函数组件，没有默认输出
* rafce -> 默认输出的函数组件

自动导入 `import` ：

![自动导入](assets/img/2021-02-18-11-12-33.png)

💡：使用 boostrap 搞样式？

文档：[React-Bootstrap · React-Bootstrap Documentation](https://react-bootstrap.github.io/)

React Bootstrap：最流行的前端框架，使用 React 重构了！

有了这个框架，那我们在开发的过程中，那就**有更多的精力放在项目的功能实现**上了，而样式就不必过于关注了！

``` bash
npm install react-bootstrap bootstrap
```

> 视频里没有装 `bootstrap`

当然，还可以使用其它库来实现组件的样式！

除了使用 React Bootstrap 提供的组件样式，我们还可以使用 BootSwatch 提供的主题样式！

文档：[Bootswatch: Free themes for Bootstrap](https://bootswatch.com/)

它是基于 BootStrap 开发的 UI 主题！

![主体风格](assets/img/2021-02-18-11-24-09.png)

课程选的是 **Lux** 这个主题！

我选的是 **Flatly**：

![Flatly](assets/img/2021-02-18-11-29-26.png)

在项目中引入：

![引入](assets/img/2021-02-18-11-37-44.png)

💡：组件使用？

Grid 布局：

API：[React-Bootstrap · React-Bootstrap Documentation](https://react-bootstrap.github.io/layout/grid/#row-props)

1. `Container`：可以让嵌套的内容居中，而且是响应式的！
2. `Row`
3. `Col`

Navbars（头部导航栏）：

文档：[React-Bootstrap · React-Bootstrap Documentation](https://react-bootstrap.github.io/components/navbar/#navbars)

``` jsx
<Navbar bg="light" expand="lg">
  <Navbar.Brand href="#home">React-Bootstrap</Navbar.Brand>
  <Navbar.Toggle aria-controls="basic-navbar-nav" />
  <Navbar.Collapse id="basic-navbar-nav">
    <Nav className="mr-auto">
      <Nav.Link href="#home">Home</Nav.Link>
      <Nav.Link href="#link">Link</Nav.Link>
      <NavDropdown title="Dropdown" id="basic-nav-dropdown">
        <NavDropdown.Item href="#action/3.1">Action</NavDropdown.Item>
        <NavDropdown.Item href="#action/3.2">Another action</NavDropdown.Item>
        <NavDropdown.Item href="#action/3.3">Something</NavDropdown.Item>
        <NavDropdown.Divider />
        <NavDropdown.Item href="#action/3.4">Separated link</NavDropdown.Item>
      </NavDropdown>
    </Nav>
    <Form inline>
      <FormControl type="text" placeholder="Search" className="mr-sm-2" />
      <Button variant="outline-success">Search</Button>
    </Form>
  </Navbar.Collapse>
</Navbar>
```

把一些不要的组件去掉，如下拉框等：

![导航](assets/img/2021-02-18-13-28-36.png)

💡： `py-3` 是什么意思？

![py-3](assets/img/2021-02-18-13-54-11.png)

➹：[Spacing · Bootstrap](https://getbootstrap.com/docs/4.4/utilities/spacing/)

💡：老师把路由切换出来的界面叫 `screen`

如点击购物车，会得到一个购物车界面……

💡：添加图标？

库地址：[font-awesome - Libraries - cdnjs - The #1 free and open source CDN built to make life easier for developers](https://cdnjs.com/libraries/font-awesome)

使用：

![使用](assets/img/2021-02-18-14-12-20.png)

代码：

``` jsx
<Nav.Link href="/cart">
  <i className="fas fa-shopping-cart px-1"></i>购物车
</Nav.Link>
<Nav.Link href="/login">
  <i className="fas fa-user px-1"></i>登录
</Nav.Link>
```

---

Next：数据是来于本地的`json`文件，之后再逐步把数据的获取换成是从数据库里边获取！

## ★创建主页页面

> 创建 HomeScreen 组件

