### ✍️ Tangxt ⏳ 2021-01-29 🏷️ redux

# 05-Redux 是什么

## ★课件

带你看懂 Redux 的文档和例子。

例子：<https://redux.js.org/introduction/examples>

注意几个问题

1. Redux 一定要跟 React 一起用吗？
2. Redux 怎么跟 React 一起用，有哪些重要概念？
3. Redux 和 React 一起用有什么不方便？为什么需要 react-redux？

## ★重要 API

1）Redux

1、Reducer 函数

> 文档：<https://cn.redux.js.org/docs/basics/Reducers.html>

``` js
const reducer = (state, action) => {
  if (state === undefined) {
    return {
      n: 0
    }
  } else {
    if (action.type === 'add') {
      var newState = {
        n: state.n + action.payload
      }
      return newState
    } else {
      return state
    }
  }
}
```

2、store

``` js
const store = createStore(reducer)
```

3、store.subscribe

``` js
store.subscribe(() => {
  render()
})
```

4、store.dispatch

``` js
store.dispatch({
  type: 'add',
  payload: 1
})
```

2）React-Redux

1、Provider 标签

``` jsx
<Provider store={store}>
  <App />
</Provider>, 
```

2、connect 函数

``` js
function mapStateToProps(state) {
  return {
    n: state.n
  }
}

function mapDispatchToProps(dispatch) {
  return {
    add1: () => dispatch({
      type: 'add',
      payload: 1
    })
  }
}

export default connect(mapStateToProps, mapDispatchToProps)(App);
```

## ★VanillaJS

