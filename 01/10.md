### âœï¸ Tangxt â³ 2021-02-14 ğŸ·ï¸ CSS

# 10-React çš„ CSS æ–¹æ¡ˆ

## â˜…è¯¾ä»¶

CSS in React

1. ä»¥å‰æ€ä¹ˆå†™
2. Vue æ€ä¹ˆå†™
3. React æ€ä¹ˆå†™
   1. styled-components <https://codesandbox.io/s/rjr43532wo>
   2. emotion <https://codesandbox.io/s/9yvlrp86pw>
   3. css modules
   4. radium
4. ä¼˜ç¼ºç‚¹
   1. æ™®é€šåº”ç”¨ä½¿ç”¨ styled-components å’Œ css modulesï¼Œå› ä¸ºç±»åä¼šå˜æˆéšæœºå­—ç¬¦ä¸²
   2. åº“ä½¿ç”¨ä¼ ç»Ÿ CSS æ–¹å¼ï¼Œå› ä¸ºç±»åä¸ä¼šå˜æˆéšæœºå­—ç¬¦ä¸²

## â˜…ä¼ ç»Ÿ CSS ä½¿ç”¨æ–¹å¼

> React é‡Œè¾¹çš„ CSS è¦æ€ä¹ˆå†™ï¼Ÿ

### <mark>1ï¼‰æˆ‘ä»¬ä»¥å‰æ˜¯å¦‚ä½•å†™ CSS çš„ï¼Ÿ</mark>

> å»ºè®®ä½¿ç”¨ codesandbox å»å­¦ä¹ ï¼Œå› ä¸ºè¿™å¯ä»¥è®©ä½ ä¸ç”¨é…ç½®ï¼Œå¾ˆå¿«å°±æ­å»ºå‡ºä¸€ä¸ªèƒ½è·‘çš„ React é¡¹ç›®äº†ã€‚

1. å†™åœ¨æ ‡ç­¾çš„`style`å±æ€§é‡Œè¾¹
2. ç”¨`style`æ ‡ç­¾
3. å¤–éƒ¨æ ·å¼è¡¨

åä¸¤ç§ï¼Œå°±æ˜¯ã€Œ**å†…å®¹ä¸æ ·å¼åˆ†ç¦»**ã€çš„æ—§çš„ CSS æ€æƒ³

ä½†è‡ªä»æœ‰äº† React ä¹‹åï¼Œè¿™ä¸€åˆ‡çš„ä¸œè¥¿éƒ½ä¸ä¸€æ ·äº†ï¼

### <mark>2ï¼‰React æ˜¯å¦‚ä½•ä½¿ç”¨ CSS çš„ï¼Ÿ</mark>

> æœ‰å¥½å‡ åç§æ–¹æ¡ˆâ€¦â€¦

#### <mark>1ã€å†…å®¹å’Œæ ·å¼åˆ†ç¦»</mark>

æ³¨æ„ç‚¹ï¼š

- ç”¨`className`è€Œä¸æ˜¯`class`ï¼Œå½“ç„¶`class`ä¹Ÿèƒ½ç”¨ï¼Œåªæ˜¯ä¼šè­¦å‘Šè€Œå·²ï¼ -> æ€»ä¹‹ï¼Œå»ºè®®ç”¨ React å»ºè®®çš„æ–¹å¼æ¥åšï¼Œå³`className`
- ç”¨ JS çš„æ–¹å¼å¯¼å…¥`CSS`

``` jsx
import './1.css'
function X() {
  return <div className="c1">hi</div>
}

export default X
```

> `c1`æ˜¯`class1`

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-02-15-10-17-13.png)

è¯è¯´ï¼Œè¿™ä¸ªæ–¹æ³•å¥½å—ï¼Ÿ

ä¸€å¼€å§‹è¿™æ˜¯æ²¡å•¥é—®é¢˜çš„ï¼Œä½†æ˜¯å½“æˆ‘ä»¬çš„ç»„ä»¶é€æ¸å˜å¤šäº†ä¹‹åï¼Œä½ å°±ä¼šè§‰å¾—ä¸å¥½äº†ï¼

æ¯”å¦‚è¿™æ ·ï¼š

![å—å½±å“](assets/img/2021-02-15-10-23-35.png)

åªè¦ä½ ç”¨äº†`className`ï¼Œé‚£ä¹ˆè¿™æ ·å¼å°±ä¼šå…¨å±€ç”Ÿæ•ˆäº†ï¼

å› æ­¤ï¼Œä½ ä¸èƒ½ç”¨`c1`

äºæ˜¯ï¼Œå°±ç”¨äº† BEM å‘½åæ³•è¿™ä¸ªä¸œè¥¿ï¼Œå®ƒè¡¨ç¤ºå’©æœ‰å‰ç¼€çš„`class`å‘½åæ˜¯ä¸èƒ½å®¹å¿çš„ï¼ï¼ˆé™¤äº†åŠ å‰ç¼€ä¹‹å¤–ï¼Œè¿˜å¯ä»¥åŠ çŠ¶æ€å˜é‡ï¼‰

![class å‘½å](assets/img/2021-02-15-16-47-31.png)

åŠ å‰ç¼€è¿™ç§å§¿åŠ¿ï¼Œå†™èµ·æ¥ç‰¹åˆ«éº»çƒ¦ï¼Œä½†è¿˜å¯ä»¥æ¥å—ï¼

ä»¥ä¸Šå°±æ˜¯é˜²æ­¢ç»„ä»¶ä¹‹é—´`class`å†²çªçš„æ”¹è¿›ç‰ˆäº† -> ä½¿ç”¨å‰ç¼€é˜»æ­¢å®ƒä»¬äº’ç›¸ä¾µçŠ¯

ğŸ’¡ï¼šç»§ç»­æ”¹è¿›ï¼Œç»„ä»¶æ ¹æ®ä¸åŒçš„çŠ¶æ€ï¼Œæœ‰ä¸åŒçš„æ ·å¼ï¼Œå¦‚`light`ä¸»é¢˜å’Œ`dark`ä¸»é¢˜

![class](assets/img/2021-02-15-16-53-50.png)

å­—ç¬¦ä¸²æ’å˜é‡å¤ªéº»çƒ¦äº†ï¼Œèƒ½å¦æœ‰æ›´ç®€å•çš„æ–¹å¼ï¼Ÿ

äºæ˜¯å°±æœ‰äººå‘æ˜äº†`classnames`

ğŸ’¡ï¼š`classnames`ï¼Ÿ

å®˜ç½‘ï¼š[JedWatson/classnames: A simple javascript utility for conditionally joining classNames together](https://github.com/JedWatson/classnames)

å¾ˆå¤šç”¨ React å¼€å‘çš„äººï¼Œéƒ½è§‰å¾—`classnames`å¾ˆå¥½ç”¨ï¼Œå³ä¾¿ï¼Œæˆ‘ä»¬è¿™ä»£ç å†™èµ·æ¥çœ‹èµ·æ¥ä¼¼ä¹å˜å¾—æ›´é•¿äº†ï¼š

![classnames](assets/img/2021-02-16-11-09-05.png)

> åœ¨ React é‡Œè¾¹ä¸€èˆ¬æ˜¯ç”¨`props`æ¥åŠ¨æ€æ§åˆ¶`class`

å¯ä»¥æ”¹æˆæ˜¯`cn`è¿™æ ·çŸ­çš„å‘½å

è¿™ä¸ª`classnames`åœ¨æ–¹æ–¹çœ‹æ¥æ˜¯å¾ˆæ™ºéšœçš„ï¼Œå› ä¸ºäº‹æƒ…å˜å¾—å¤æ‚èµ·æ¥äº†ï¼

å½“ç„¶ï¼Œè¿˜æœ‰æ›´æ™ºéšœçš„åšæ³•â€¦â€¦ä¸è¿‡ï¼Œè¿™äº›åšæ³•åœ¨ React ä¸–ç•Œé‡Œè¾¹éƒ½å¾ˆæµè¡Œï¼

ğŸ’¡ï¼šåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œè¾¹ï¼Œç±»åå¤šäº†ï¼Œå°±å¾ˆéš¾ç»„ç»‡äº†ï¼Œæˆ‘ä»¬èƒ½å¦åˆ†ä¸¤ä¸ªæ–‡ä»¶æ¥å†™å‘¢ï¼Ÿ

ä¹Ÿå°±æ˜¯æ‰€è°“çš„æ¨¡å—åŒ–ï¼Œæ¯ä¸ª CSS æ–‡ä»¶ï¼Œéƒ½åªæœåŠ¡äºæŸä¸ªç»„ä»¶â€¦â€¦

å¦‚ï¼š`Topbar`ç»„ä»¶å¯¹åº”ç€`topbar.css`ï¼Œ`X`ç»„ä»¶å¯¹åº”ç€`x.css`

![ä»£ç ](assets/img/2021-02-16-11-20-59.png)

æ•´ä¸ªæ–‡ä»¶çš„å¯¼å…¥æµç¨‹ï¼š

![å¯¼å…¥æµç¨‹](assets/img/2021-02-16-11-22-53.png)

ç›®å‰ä»£ç å¾ˆç¬¦åˆå¤„å¥³åº§çš„äººæ‰€å†™çš„ä»£ç ï¼Œå³éå¸¸æ¸…æ™°ï¼Œä½ æƒ³çœ‹å“ªä¸ªç»„ä»¶çš„æ ·å¼ï¼Œç›´æ¥ç‚¹æ–‡ä»¶è¿›å»çœ‹å°±è¡Œäº†ï¼Œè€Œä¸æ˜¯åœ¨ä¸€ä¸ªæ··æ‚ç€å„ç§ç»„ä»¶æ ·å¼ä»£ç çš„æ–‡ä»¶é‡Œè¾¹æ‰¾ï¼

å¦‚æœä½ çš„å¤„å¥³åº§ã€å¼ºè¿«ç—‡å†è¿›ä¸€æ­¥ï¼Œé‚£ä¹ˆä½ è¿™æ—¶å°±å¯ä»¥**å¼•å…¥ç›®å½•**äº†ï¼

![ç›®å½•](assets/img/2021-02-16-11-28-15.png)

å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªç»„ä»¶çš„å†…å®¹ã€æ ·å¼éƒ½è¢«é”å®šåœ¨ä¸€ä¸ªæ–‡ä»¶ç›®å½•é‡Œè¾¹äº†ï¼

æˆ‘ä»¬ä¸ç”¨æ“å¿ƒï¼Œå…¶å®ƒç»„ä»¶ç›®å½•æ˜¯å¦‚ä½•åˆ’åˆ†çš„ï¼Œä½†æˆ‘ä»¬ä½¿ç”¨å®ƒä»¬æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥å¼•ç”¨ä¸€ä¸ª`X`æ ‡ç­¾å°±å¯ä»¥äº†

![å¼•å…¥ X](assets/img/2021-02-16-11-30-28.png)

> å¦‚æœæˆ‘å¼•å…¥äº† `X`ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰ä½¿ç”¨ï¼Œé‚£ä¹ˆå…¶å®ƒåœ¨`x.js`é‡Œè¾¹çš„å¼•å…¥è¿˜ä¼šå»å¼•å…¥å—ï¼Ÿ

ğŸ’¡ï¼šæ¨¡å—åŒ–å¾ˆæ·±ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ‰¾æ–‡ä»¶å‘¢ï¼Ÿ

å¦‚ä¸€ä¸ªé¡µé¢ï¼Œå½“ä½œæ˜¯ä¸€ä¸ªç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ——ä¸‹åˆæœ‰å¾ˆå¤šä¸€çº§ç»„ä»¶ã€äºŒçº§ç»„ä»¶çš„â€¦â€¦

ç”¨å¿«æ·é”®å°±å¥½äº†ï¼ -> VS Codeï¼Œå°±èƒ½å¾ˆå¿«æ‰¾åˆ°æ–‡ä»¶ï¼

---

è¿™ä¸ªæ–¹æ³•å¾ˆå¥½ï¼Œä½† React ç¨‹åºå‘˜å°±è§‰å¾—ä¸çˆ½ï¼

å¦‚ï¼šä¸æƒ³åŠ å‰ç¼€ï¼Œç±»ä¼¼ Vue çš„ `scoped` è¿™æ ·

å¯ä»¥çœ‹åˆ°å‰ç«¯å‰è¿›çš„åŠ¨åŠ›æ˜¯æ¥è‡ªäºå¼ºè¿«ç—‡ï¼Œå¦‚æœæ²¡æœ‰å¼ºè¿«ç—‡ï¼Œæˆ‘ä»¬ä¹äºæ¥å—åŠ å‰ç¼€çš„`class`å‘½åï¼Œä½†æœ‰äº†å¼ºè¿«ç—‡å°±å¾ˆä¸çˆ½åŠ å‰ç¼€äº†ï¼

ğŸ’¡ï¼šå¦‚ä½•åšåˆ°ä¸å†™å‰ç¼€å°±èƒ½åŒºåˆ†ï¼Œä¸åŒç»„ä»¶é‡Œè¾¹æ‰€å†™çš„`class`ï¼Ÿ

å¦‚`Topbar`ç»„ä»¶çš„ jsx é‡Œè¾¹æœ‰ä¸ª`title`classï¼Œè€Œ`X`ç»„ä»¶ä¹Ÿæœ‰ä¸ª`title`classï¼Œæˆ‘ä»¬åŸå…ˆæ˜¯é€è¿‡åŠ å‰ç¼€æ¥åŒºåˆ†å®ƒä»¬ä¿©çš„ï¼Œè€Œç°åœ¨åˆ™æ˜¯ä¸æƒ³é€è¿‡åŠ å‰ç¼€æ¥åŒºåˆ†å®ƒä»¬ä¿©ï¼

> çªç„¶è§‰å¾—äº†è§£äº† React çš„ CSS æ–¹æ¡ˆä¹‹åï¼Œå°±æœ‰ç‚¹æ˜ç™½`.vue`æ–‡ä»¶ä¸ºä½•è¦è¿™äº›å†™ CSS äº†ï¼!

å¦‚ä½•åŒºåˆ†å‘¢ï¼Ÿ

CSS æ˜¯æ— æ³•åšçš„ï¼é™¤éæµè§ˆå™¨èƒ½æŠŠ CSS å‡çº§ï¼

æ—¢ç„¶å¦‚æ­¤ï¼Œå‰ç«¯å°±ä¸ç”¨ CSSï¼Œè€Œæ˜¯ç”¨ JS æ¥åšï¼

![css in js](assets/img/2021-02-16-15-20-31.png)

## â˜…styled-components æ–¹å¼

### <mark>1ï¼‰CSS in JS æ˜¯ä»€ä¹ˆï¼Ÿ</mark>

ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªæ–¹æ¡ˆç­‰äºå‡ åç§ CSS æ–¹æ¡ˆï¼ -> è¿™ä¸æ˜¯ä¸€ä¸ªæ–¹æ¡ˆï¼Œè€Œæ˜¯ä¸€ä¸ªåœ¨ JS é‡Œè¾¹å†™ CSS çš„å¤§æ¦‚æ–¹å‘â€¦â€¦

![css in js](assets/img/2021-02-16-15-37-16.png)

è¿™ä¸ªä»“åº“ç›®å‰æ”¶å½•äº†æ‰€æœ‰çš„ css in js æ–¹æ¡ˆï¼š[MicheleBertoli/css-in-js: React: CSS in JS techniques comparison](https://github.com/MicheleBertoli/css-in-js)

ç›®å‰ä½¿ç”¨ React çš„äººï¼Œæ‰€é€‰æ‹©çš„ CSS æ–¹æ¡ˆï¼Œè·Ÿå¦å¤–ä¸€ä¸ªäººæ‰€å†™çš„å®Œå…¨ä¸ä¸€æ ·ï¼Œè€Œä¸”**äº’ç›¸çœ‹ä¸é¡ºçœ¼**ï¼

ğŸ’¡ï¼šä¸ºå•¥æœ‰äººè¯´åšå‰ç«¯æ¶æ„å¾ˆéš¾å‘¢ï¼Ÿ

æ²¡æœ‰å†™ 3 å¹´å‰ç«¯é¡¹ç›®ï¼Œä½ æ˜¯åšä¸åˆ°çš„ï¼å› ä¸ºä½ éœ€è¦æŠŠå¾ˆå¤šä¸œè¥¿éƒ½è¯•ä¸€éæ‰çŸ¥é“å“ªä¸ªå¥½ï¼Œå¦‚è¿™ä¸ª CSS in js çš„æ–¹æ¡ˆé€‰å‹â€¦â€¦

æ‰€ä»¥å¦‚æœä½ ä¸èŠ±æ—¶é—´å»ç ”ç©¶è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„ç¤¾åŒºçæå‡ºæ¥çš„ä¸œè¥¿ï¼Œä½ æ˜¯ä¸çŸ¥é“åº”è¯¥é€‰å“ªç§æ–¹æ¡ˆçš„ï¼ -> **å¾ˆæœ‰å¯èƒ½é€‰æ‹©æ˜¯ä¸€ä¸ªé”™çš„ï¼Œè¿‡äº†å‡ å¹´åè¢«äººè®¤ä¸ºæ˜¯è¾£é¸¡ï¼**

åœ¨å‰ç«¯é‡Œè¾¹æ˜¯å¦æœ‰å¾ˆå¤šä¸œè¥¿ï¼Œä¸€å¼€å§‹è§‰å¾—å¾ˆå¥½ï¼Œåæ¥å°±å˜æˆè¾£é¸¡çš„å‘¢ï¼Ÿ

å¦‚ï¼š

- Gruntï¼Œä¸€å¼€å§‹å‡ºæ¥çš„æ—¶å€™ï¼Œè§‰å¾—å¾ˆç‰›é€¼ï¼Œä¹‹åå°±å‡‰å‡‰äº†
- Angular1.x

ç›®å‰å¤§çƒ­çš„ React å’Œ Vueï¼Œç«çš„æ—¶é—´ä¹Ÿä¸è¿‡ 6ã€7 å¹´â€¦â€¦è°èƒ½é¢„æ–™åˆ°æœªæ¥ä¼šæ€æ ·å‘¢ï¼Ÿå½“ç„¶ï¼Œåæ­£ä¸€ä¸ªç¨‹åºå‘˜åœ¨ä¸€å®¶å…¬å¸å¹²ä¸€ä¸¤å¹´å°±èµ°äº†ï¼Œåæ¥è°ç»´æŠ¤éƒ½ä¸å…³è‡ªå·±çš„äº‹å„¿äº†ï¼

ğŸ’¡ï¼šè¿™ä¹ˆå¤šç§ CSS in JS æ–¹æ¡ˆï¼Œåº”è¯¥é€‰å“ªä¸€ç§å‘¢ï¼Ÿ

ç®€å•æ¥è¯´ï¼Œç»™å¤§å®¶ä¸€ä¸ªæŒ‡å¯¼æ–¹é’ˆï¼Œé‚£å°±æ˜¯ã€Œ**çœ‹ star æ•°é‡**ã€

é€‰æ‹© star æ•°é‡æ’åæœ€é«˜çš„å››ç§æ–¹æ¡ˆ -> è¿™å°±æ˜¯ç›®å‰ React ä¸–ç•Œé‡Œè¾¹æœ€æµè¡Œçš„å‡ ç§æ–¹æ¡ˆäº†ï¼

> è¿™å°±æ˜¯å†™ CSS éš¾çš„åŸå› ä¹‹ä¸€

### <mark>2ï¼‰styled-components</mark>

å®˜ç½‘ï¼š[styled-components/styled-components: Visual primitives for the component age. Use the best bits of ES6 and CSS to style your apps without stress ğŸ’…](https://github.com/styled-components/styled-components)

ç”¨å®ƒä¹‹å‰ï¼Œå¿ƒç†æš—ç¤ºè‡ªå·±ï¼š**CSS å°±æ˜¯è¾£é¸¡ï¼Œå®ƒä¸èƒ½åŒºåˆ†ä¸¤ä¸ª class åï¼Œå³ä¾¿èƒ½åŒºåˆ†ä¹Ÿå¾—åŠ å‰ç¼€ï¼Œç”¨ JS å†™æ‰æ˜¯ç‹é“ã€‚**

ä¾‹å­ï¼š

``` jsx
import React from "react";
import styled, { css } from 'styled-components'

const Button = styled.button`
  background: transparent;
  border-radius: 3px;
  border: 2px solid palevioletred;
  color: palevioletred;
  margin: 0.5em 1em;
  padding: 0.25em 1em;

  ${(props) =>
    props.primary &&
    css`
      background: palevioletred;
      color: white;
    `}
`;

const Container = styled.div`
  text-align: center;
`;

export default function X() {
  return (
    <Container>
      <Button>Normal Button</Button>
      <Button primary>Primary Button</Button>
    </Container>
  );
};

```

æ•ˆæœï¼š

![ä¸ç”¨å†™ class](assets/img/2021-02-16-16-24-27.png)

> ç¬¬ä¸€ä¸ª`sc-`å‰ç¼€çš„è¡¨ç¤ºçš„æ˜¯æ˜¯å¦ç”±åŒä¸€ä¸ª`styled.button`æ„é€ å‡ºæ¥çš„ï¼Œç¬¬äºŒä¸ªå’©æœ‰å‰ç¼€çš„æ˜¯ç”¨æˆ·è‡ªå·±å†™çš„æ ·å¼

è‡ªä»ç”¨äº†è¿™ä¸ªåº“åï¼Œæˆ‘ä»¬å°±æ²¡æœ‰`.css`è¿™æ ·çš„æ–‡ä»¶äº†ï¼ä¹Ÿä¸ç”¨å»æƒ³å¦‚ä½•å–ä¸€ä¸ª`class`åå­—äº†ï¼ -> æˆ‘ä»¬åªéœ€è¦å†™æ ·å¼å±æ€§å°±å®Œäº‹å„¿äº†ï¼

å…¶åŸç†ï¼Œå°±æ˜¯ç”Ÿæˆä¸€ä¸ª`class`åï¼Œç„¶åæŠŠç±»ååŠ åˆ°å…ƒç´ ä¸Šï¼

è¿™ä¸ªæ–¹æ¡ˆä¸èƒ½ä¸å…¶å®ƒ scssã€less ç­‰ç»“åˆï¼Œå› ä¸ºæ²¡æœ‰é€‰æ‹©å™¨ç»™ä½ é€‰
äº†ï¼

ä½¿ç”¨è¿™ç§å†™æ³•çš„åœºæ™¯ï¼š

![åœºæ™¯](assets/img/2021-02-16-16-37-23.png)

å¯¼å‡ºä¸€ä¸ªå¸¦æœ‰`class`çš„ç»„ä»¶ï¼

ğŸ’¡ï¼šæ ‡ç­¾å‡½æ•°ï¼Ÿ

![æ ‡ç­¾å‡½æ•°](assets/img/2021-02-16-16-46-19.png)

æ ‡ç­¾å‡½æ•°çš„è¯­æ³•æ˜¯å‡½æ•°ååé¢ç›´æ¥å¸¦ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå¹¶ä»æ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„æ’å€¼è¡¨è¾¾å¼ä¸­è·å–å‚æ•°ã€‚

æ ‡ç­¾å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«åµŒå…¥è¡¨è¾¾å¼åˆ†éš”çš„æ–‡æœ¬çš„æ•°ç»„ã€‚ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹æ˜¯åµŒå…¥è¡¨è¾¾å¼çš„å†…å®¹ã€‚

â¹ï¼š[ES6 - æ ‡ç­¾å‡½æ•° - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/31687266)

â¹ï¼š[javascript æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆæ ‡ç­¾å‡½æ•°ï¼‰ - Alummox - åšå®¢å›­](https://www.cnblogs.com/alummox/p/11349116.html)

â¹ï¼š[JavaScript æ ‡ç­¾è¯­å¥å’Œæ ‡ç­¾å‡½æ•°_è¿›é˜¶çš„ linzhangmeidi-CSDN åšå®¢](https://blog.csdn.net/linzhangmeidi/article/details/113823433)

ğŸ’¡ï¼šæ›´å¤šä¾‹å­ï¼Ÿ

![ä¾‹å­](assets/img/2021-02-16-16-58-48.png)

ä¸ä»…å†…å®¹å’Œæ ·å¼ä¸åˆ†ç¦»ï¼Œè€Œä¸”è¡Œä¸ºä¹Ÿä¸åˆ†ç¦» -> è‡ªå·±åŠ ä¸ª`onClick`å±æ€§å°±å®Œäº‹äº†ï¼

å¦‚æœä½ æƒ³åŠ¨æ€æ”¹å˜æ ·å¼ï¼Œç›´æ¥`${xxx}`å°±å®Œäº‹äº†ï¼š

![åŠ¨æ€æ”¹å˜æ ·å¼](assets/img/2021-02-16-17-03-36.png)

### <mark>3ï¼‰å°ç»“</mark>

è¿™ä¸ªæ–¹æ¡ˆè®©ä½ ï¼š

- å†ä¹Ÿçœ‹ä¸è§ç±»åï¼Œä¸éœ€è¦ä½ å†™`class`ï¼Œä¹Ÿä¸ç”¨å»æƒ³åå­—
- æ²¡æœ‰ css æ–‡ä»¶ï¼Œåªæœ‰ js æ–‡ä»¶ï¼Œå…¨éƒ¨ä¸œè¥¿éƒ½ç³…åˆåœ¨ä¸€èµ·ï¼ä½†ä»æ›´é«˜ç»´åº¦æ¥çœ‹ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œåˆ†ç¦»çš„ï¼ä¸ç”¨å†æƒ³ä»¥å‰é‚£æ ·åœ¨è¿™ä¸ªç»„ä»¶é‡Œå†™ä¸ª`class`ï¼Œè¿˜å¾—é¡¾è™‘å…¶å®ƒç»„ä»¶æ˜¯å¦ä¹Ÿæœ‰ä¸ªä¸€æ ·çš„`class` -> css in js æ–¹æ¡ˆï¼Œç»™äº†æˆ‘ä»¬ä¸€ç§å¥½å¤„ï¼Œé‚£å°±æ˜¯å¿ƒç†è´Ÿæ‹…å‡è½»ï¼Œå¾ˆå¤šäººå–œæ¬¢ React ä¹Ÿæ˜¯å› ä¸ºè¿™æ ·ï¼å³ä¸ç”¨æ‹…å¿ƒè‡ªå·±æ‰€å†™çš„ä»£ç ä¼šå½±å“åˆ°ä»»ä½•å…¶å®ƒç»„ä»¶ï¼Œä¸ç„¶ï¼Œä½ å†™çš„ä»£ç æœ‰ bugï¼Œå½±å“åˆ°å…¶ä»–äººæ‰€å†™çš„ï¼Œé‚£å°±è¢« fire äº†ï¼ -> åˆ©å¤§äºå¼Šï¼Œä»å·¥ç¨‹è§’åº¦æ¥è¯´ï¼Œå¯¹æ–°äººéå¸¸å‹å¥½ï¼Œä¸ä¼šæœ‰ä»»ä½•è§‰å¾—è‡ªå·±å†™é”™ä»£ç å°±è¢« fire çš„å¿ƒç†è´Ÿæ‹…â€¦â€¦

## â˜…emotion æ–¹å¼

å®˜ç½‘ï¼š[emotion-js/emotion: ğŸ‘©â€ğŸ¤ CSS-in-JS library designed for high performance style composition](https://github.com/emotion-js/emotion)

### <mark>1ï¼‰å®˜æ–¹ä¾‹å­</mark>

``` jsx
/** @jsx jsx */
import { jsx } from "@emotion/react";

let SomeComponent = (props) => {
  return (
    <div
      css={{
        color: "hotpink",
      }}
    >Hi</div>
  );
};

export default SomeComponent
```

æ‹·è´å®˜æ–¹ä¾‹å­ï¼Œç„¶åè¿è¡Œæ‰€é‡åˆ°çš„é—®é¢˜ï¼š

![é—®é¢˜](assets/img/2021-02-16-17-35-33.png)

è§£å†³ï¼š

``` jsx
/** @jsxRuntime classic */
/** @jsx jsx */
import { jsx } from "@emotion/react";

let SomeComponent = (props) => {
  return (
    <div
      css={{
        color: "hotpink",
      }}
    >Hi</div>
  );
};

export default SomeComponent
```

è¿½åŠ ä¸€è¡Œ`/** @jsxRuntime classic */`å°±è¡Œäº†ï¼

> [Migrating to React 17 and Fixing the JSX Runtime Error with Emotion - DEV Community](https://dev.to/segunadebayo/migrating-to-react-17-and-fixing-the-jsx-runtime-error-with-emotion-l4n)

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-02-16-17-39-31.png)

> ä»£ç é‡Œè¾¹æ˜¯éœ€è¦åŠ æ³¨é‡Šçš„ï¼

å®ƒçš„ä¸€äº›ä¼˜åŒ–ï¼š

æˆ‘ä»¬ç›´æ¥å†™`fontSize:20`å°±æ˜¯`20px`äº†ï¼Œå¦‚æœå†™`rem`å•ä½ï¼Œé‚£å°±`'20rem'`

æ›´å¤šä¾‹å­ï¼š

![ä¾‹å­](assets/img/2021-02-16-17-47-49.png)

æ–¹æ–¹ä¸æ¨èâ€¦â€¦ä¸è¿‡ï¼Œæ—¢ç„¶æœ‰é‚£ä¹ˆå¤š starï¼Œé‚£è‚¯å®šä¼šæœ‰å®ƒçš„ç‰›é€¼ä¹‹å¤„çš„ï¼

## â˜…css-modules æ–¹å¼ï¼ˆå¤±è´¥ï¼‰

æ–‡æ¡£ï¼š[gajus/react-css-modules: Seamless mapping of class names to CSS modules inside of React components.](https://github.com/gajus/react-css-modules)

è¿™ä¸ªæ–¹æ¡ˆæ›´å®¹æ˜“ç†è§£ï¼Œå®ƒå¯ä»¥åšåˆ°æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„æ¨¡å—ï¼Œå„ä¸ªæ¨¡å—å†™çš„`title`classï¼Œæ˜¯ä¸ä¼šäº’ç›¸å½±å“çš„ï¼

![å¼ƒç”¨](assets/img/2021-02-16-18-07-26.png)

æ–‡æ¡£ï¼š[gajus/babel-plugin-react-css-modules: Transforms styleName to className using compile time CSS module resolution.](https://github.com/gajus/babel-plugin-react-css-modules)

ğŸ’¡ï¼š`yarn eject`ï¼Ÿ

ç”±äºéœ€è¦é…ç½® webpackï¼Œå› æ­¤éœ€è¦æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å±é™©çš„æ“ä½œï¼Œå®ƒæ˜¯å•å‘çš„ï¼Œæ‰§è¡Œåï¼Œå¤æ‚çš„`webpack`ç®¡ç†å°†äº¤ç”±æˆ‘ä»¬è‡ªå·±ç®¡ç†äº†ã€‚

å®ƒçš„æ•ˆæœï¼šæ ¹ç›®å½•æ——ä¸‹å¤šäº†ä¸€ä¸ª`config`ç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œè¾¹æœ‰å¾ˆå¤š webpack é…ç½®æ–‡ä»¶ï¼

â¹ï¼š[å…³äº eject éœ€è¦çŸ¥é“çš„ - Limoer çš„è®°äº‹å°æœ¬](http://limoer.cc/2019/06/05/eject/)

---

è¿™ä¸ªæ–¹æ¡ˆè¿˜æ˜¯ä¸è¦ç”¨äº†ã€‚

create-react-app è‡ªä» 2.0.0 ç‰ˆæœ¬å¼€å§‹å·²ç»å¼€å§‹æ”¯æŒ CSS Modulesï¼Œå¦‚æœæ˜¯ä¹‹å‰çš„ç‰ˆæœ¬åˆ™éœ€è¦å…ˆ ejectï¼Œç„¶åæ‰‹åŠ¨é…ç½® webpack æ”¯æŒã€‚

ä½¿ç”¨æ–¹æ³•ï¼š

- å±€éƒ¨æ ·å¼ï¼Œå‘½åè§„åˆ™ï¼š`xxx.module.css`
- å…¨å±€æ ·å¼ï¼Œåªè¦ä¸ä»¥`.module.css`ç»“å°¾å³å¯

``` jsx
import styles from './test.module.css';
console.log(styles)

export default function Test() {
  return (
    <div className={styles.title}>Hello</div>
  )
}
```

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-02-16-18-35-26.png)

â¹ï¼š[ç¾åŒ– React ç»„ä»¶ä¹‹ CSS Modules - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/50837353)

## â˜…Radium

æ–‡æ¡£ï¼š[FormidableLabs/radium: A toolchain for React component styling.](https://github.com/FormidableLabs/radium)

``` jsx
import Radium from "radium";
import React from "react";
import color from "color";
import PropTypes from "prop-types";

class Button extends React.Component {
  static propTypes = {
    kind: PropTypes.oneOf(["primary", "warning"]).isRequired,
  };

  render() {
    // Radium extends the style attribute to accept an array. It will merge
    // the styles in order. We use this feature here to apply the primary
    // or warning styles depending on the value of the `kind` prop. Since its
    // all just JavaScript, you can use whatever logic you want to decide which
    // styles are applied (props, state, context, etc).
    return (
      <button style={[styles.base, styles[this.props.kind]]}>
        {this.props.children}
      </button>
    );
  }
}

Button = Radium(Button);
console.log(color);

// You can create your style objects dynamically or share them for
// every instance of the component.
var styles = {
  base: {
    background: "transparent",
    borderRadius: "3px",
    border: "2px solid palevioletred",
    color: "palevioletred",
    margin: "0.5em 1em",
    padding: "0.25em 1em",

    // Adding interactive state couldn't be easier! Add a special key to your
    // style object (:hover, :focus, :active, or @media) with the additional rules.
    ":hover": {
      background: color("orange").lighten(0.2),
      // background: 'white'
    },
  },

  primary: {
    background: "palevioletred",
    color: "white",
  },

  warning: {
    background: "yellow",
  },
};

export default function Test() {
  return (
    <div>
      <Button kind="primary">primary</Button>
      <Button kind="warning">warning</Button>
    </div>
  );
}
```

> å®˜ç½‘çš„ä¾‹å­ä»£ç æ˜¯é—®é¢˜çš„ï¼Œå¦‚`color`è¿™ä¸ªå‡½æ•°æ˜¯æ²¡æœ‰é‚£ä¸ª`hexString`API çš„ï¼è¿˜æœ‰ä½ å¿…é¡»è¦å¼•å…¥`import PropTypes from "prop-types";`å•Šï¼

æ•ˆæœï¼š

![æ•ˆæœ](assets/img/2021-02-16-20-02-18.png)

## â˜…æ€»ç»“

![æ€»ç»“](assets/img/2021-02-16-20-06-59.png)

- æ—§åšæ³•ï¼šæ ·å¼å†…å®¹åˆ†ç¦»
  - åŠ å‰ç¼€ -> éœ€è¦è‡ªå·±æƒ³ï¼Œå¾ˆéº»çƒ¦
  - å¯ä»¥ç”¨ scss/less ç­‰
- css in js
  - styled-componentï¼šå¯ä»¥åœ¨ JS é‡Œè¾¹ç”¨ css è¯­æ³•
  - css-moduleï¼šåƒæ—§åšæ³•ä¸€æ ·ï¼Œä½†å¯ä»¥æ¨¡å—åŒ–çš„ä½¿ç”¨å±€éƒ¨`class`
  - ä¸æ¨èä½¿ç”¨å†™å¯¹è±¡çš„æ–¹å¼å†™æ ·å¼
  - æ³¨æ„ï¼Œçœ‹è¿™ä¸ªæ–¹æ¡ˆæ˜¯å¦æ”¯æŒä¼ªç±»â€¦â€¦

![å•†åŸå’Œåº“](assets/img/2021-02-16-20-22-01.png)

## â˜…äº†è§£æ›´å¤š

â¹ï¼š[CSS in JS ç®€ä»‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—](https://www.ruanyifeng.com/blog/2017/04/css_in_js.html)

â¹ï¼š[å¦‚ä½•åœ¨ React ä¸­è¿ç”¨ CSSï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/30757566)

â¹ï¼š[css in js è¶‹åŠ¿æœ‰å“ªäº›æ¯”è¾ƒæ˜æœ—çš„æ–¹æ¡ˆï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/38388076/answers/updated)

â¹ï¼š[React - è®©ç»„ä»¶æ³¨å…¥ style - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/341790468)

â¹ï¼š[React ç³»åˆ—åä¸€ - React ä¸­çš„ CSS - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/156806997)

â¹ï¼š[ç²¾è¯»ã€Šè¯·åœæ­¢ css-in-js çš„è¡Œä¸ºã€‹ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/26878157)

â¹ï¼š[CSS-in-JSï¼šä¸€ä¸ªå……æ»¡äº‰è®®çš„æŠ€æœ¯æ–¹æ¡ˆ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/165089496)
