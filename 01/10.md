### ✍️ Tangxt ⏳ 2021-02-14 🏷️ CSS

# 10-React 的 CSS 方案

## ★课件

CSS in React

1. 以前怎么写
2. React 怎么写
   1. styled-components <https://codesandbox.io/s/rjr43532wo>
   2. emotion <https://codesandbox.io/s/9yvlrp86pw>
   3. css modules
   4. radium
3. 优缺点
   1. 普通应用使用 styled-components 和 css modules，因为类名会变成随机字符串
   2. 库使用传统 CSS 方式，因为类名不会变成随机字符串

## ★传统 CSS 使用方式

> React 里边的 CSS 要怎么写？

1）我们以前是如何写 CSS 的？

> 建议使用 codesandbox 去学习，因为这可以让你不用配置，很快就搭建出一个能跑的 React 项目了。

1. 写在标签的`style`属性里边
2. 用`style`标签
3. 外部样式表

后两种，就是「**内容与样式分离**」的旧的 CSS 思想

但自从有了 React 之后，这一切的东西都不一样了！

2）React 是如何使用 CSS 的？

> 有好几十种方案……

1、内容和样式分离

注意点：

- 用`className`而不是`class`，当然`class`也能用，只是会警告而已！ -> 总之，建议用 React 建议的方式来做，即`className`
- 用 JS 的方式导入`CSS`

``` jsx
import './1.css'
function X() {
  return <div className="c1">hi</div>
}

export default X
```

> `c1`是`class1`

效果：

![效果](assets/img/2021-02-15-10-17-13.png)

话说，这个方法好吗？

一开始这是没啥问题的，但是当我们的组件逐渐变多了之后，你就会觉得不好了！

比如这样：

![受影响](assets/img/2021-02-15-10-23-35.png)

只要你用了`className`，那么这样式就会全局生效了！

因此，你不能用`c1`

于是，就用了 BEM 命名法这个东西，它表示咩有前缀的`class`命名是不能容忍的！（除了加前缀之外，还可以加状态变量）

![class命名](assets/img/2021-02-15-16-47-31.png)

加前缀这种姿势，写起来特别麻烦，但还可以接受！

以上就是防止组件之间`class`冲突的改进版了 -> 使用前缀阻止它们互相侵犯

💡：继续改进，组件根据不同的状态，有不同的样式，如`light`主题和`dark`主题

![class](assets/img/2021-02-15-16-53-50.png)

字符串插变量太麻烦了，能否有更简单的方式？

于是就有人发明了`classnames`

💡：`classnames`？

官网：[JedWatson/classnames: A simple javascript utility for conditionally joining classNames together](https://github.com/JedWatson/classnames)








